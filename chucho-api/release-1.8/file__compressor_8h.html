<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="itzcuintli.ico" type="image/x-icon"/>
<meta http-equiv="Content-Type" content="text/xhtml
charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Chucho: file_compressor.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px
">
  <td id="projectlogo"><img alt="Logo" src="itzcuintli_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em
">
   <div id="projectname">Chucho
   &#160
<span id="projectnumber">1.8</span>
   </div>
   <div id="projectbrief">A C++11 logging framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_dbed4cd056940b7d61442a20bdb31de5.html">chucho</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">file_compressor.h File Reference<div class="ingroups"><a class="el" href="group__c.html">C</a> &raquo; <a class="el" href="group__c__compressors.html">Compressors</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions common to all file compressors.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="return__code_8h_source.html">chucho/return_code.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for file_compressor.h:</div>
<div class="dyncontent">
<div class="center"><img src="file__compressor_8h__incl.png" border="0" usemap="#file__compressor_8h" alt=""/></div>
<map name="file__compressor_8h" id="file__compressor_8h">
<area shape="rect" id="node2" href="return__code_8h.html" title="Return codes of Chucho C functions. " alt="" coords="5,80,163,107"/>
<area shape="rect" id="node3" href="export_8h_source.html" title="chucho/export.h" alt="" coords="23,155,145,181"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="file__compressor_8h__dep__incl.png" border="0" usemap="#file__compressor_8hdep" alt=""/></div>
<map name="file__compressor_8hdep" id="file__compressor_8hdep">
<area shape="rect" id="node2" href="file__roller_8h.html" title="Types and functions common to all file rollers. " alt="" coords="301,80,392,107"/>
<area shape="rect" id="node7" href="gzip__file__compressor_8h.html" title="Creation of gzip file compressors. " alt="" coords="417,80,583,107"/>
<area shape="rect" id="node8" href="bzip2__file__compressor_8h.html" title="Creation of bzip2 file compressors. " alt="" coords="607,80,781,107"/>
<area shape="rect" id="node9" href="zip__file__compressor_8h.html" title="Compress using the zip archive format and a file name extension of .zip. " alt="" coords="806,80,964,107"/>
<area shape="rect" id="node3" href="numbered__file__roller_8h.html" title="Functions related to numbered file rollers. " alt="" coords="5,163,165,189"/>
<area shape="rect" id="node4" href="rolling__file__writer_8h.html" title="A writer that writes to files and rolls them. " alt="" coords="190,163,329,189"/>
<area shape="rect" id="node5" href="sliding__numbered__file__roller_8h.html" title="A file_roller that numbers files from a minimum index in increasing order. " alt="" coords="354,155,512,197"/>
<area shape="rect" id="node6" href="time__file__roller_8h.html" title="A file_roller that rolls files by time. " alt="" coords="537,163,663,189"/>
</map>
</div>
</div>
<p><a href="file__compressor_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:af4f87c5be0de33dbb069b15e96402111"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af4f87c5be0de33dbb069b15e96402111"></a>
typedef struct <a class="el" href="file__compressor_8h.html#af4f87c5be0de33dbb069b15e96402111">chucho_file_compressor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file__compressor_8h.html#af4f87c5be0de33dbb069b15e96402111">chucho_file_compressor</a></td></tr>
<tr class="memdesc:af4f87c5be0de33dbb069b15e96402111"><td class="mdescLeft">&#160;</td><td class="mdescRight">An opaque type that you don't care about. <br /></td></tr>
<tr class="separator:af4f87c5be0de33dbb069b15e96402111"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a01ba6181581f0bb655b7151cc2502c6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="return__code_8h.html#a5d9d1912ba3cc603c5c40414b58ac643">chucho_rc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file__compressor_8h.html#a01ba6181581f0bb655b7151cc2502c6c">chucho_cmp_get_extension</a> (const <a class="el" href="file__compressor_8h.html#af4f87c5be0de33dbb069b15e96402111">chucho_file_compressor</a> *cmp, const char **ext)</td></tr>
<tr class="memdesc:a01ba6181581f0bb655b7151cc2502c6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the file name extension used by the given file compressor.  <a href="#a01ba6181581f0bb655b7151cc2502c6c">More...</a><br /></td></tr>
<tr class="separator:a01ba6181581f0bb655b7151cc2502c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae68666b7be81de403d18170dd4dbbd50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="return__code_8h.html#a5d9d1912ba3cc603c5c40414b58ac643">chucho_rc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file__compressor_8h.html#ae68666b7be81de403d18170dd4dbbd50">chucho_cmp_get_min_index</a> (const <a class="el" href="file__compressor_8h.html#af4f87c5be0de33dbb069b15e96402111">chucho_file_compressor</a> *cmp, unsigned *idx)</td></tr>
<tr class="memdesc:ae68666b7be81de403d18170dd4dbbd50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the minimum index of rolled files at which to start compressing them.  <a href="#ae68666b7be81de403d18170dd4dbbd50">More...</a><br /></td></tr>
<tr class="separator:ae68666b7be81de403d18170dd4dbbd50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7f151fd46dc0cdc7d7fac99ba5a3638"><td class="memItemLeft" align="right" valign="top"><a class="el" href="return__code_8h.html#a5d9d1912ba3cc603c5c40414b58ac643">chucho_rc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file__compressor_8h.html#ac7f151fd46dc0cdc7d7fac99ba5a3638">chucho_release_file_compressor</a> (<a class="el" href="file__compressor_8h.html#af4f87c5be0de33dbb069b15e96402111">chucho_file_compressor</a> *cmp)</td></tr>
<tr class="memdesc:ac7f151fd46dc0cdc7d7fac99ba5a3638"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release a file compressor.  <a href="#ac7f151fd46dc0cdc7d7fac99ba5a3638">More...</a><br /></td></tr>
<tr class="separator:ac7f151fd46dc0cdc7d7fac99ba5a3638"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions common to all file compressors. </p>
<p>File compressors are able to compress files. They take as input the name of a file to compress, and they create a file with the same name plus an extension specific to the compressor, for example ".gz" in the case of gzip compression. A compressor is optionally attached to a file_roller.</p>
<p>Each compressor has a minimum index at which it should start to compress files. Since each file_roller can have its own strategy for rolling, the compressor index is always counted sequentially from the most recent rolled file, which has an index of 1. So, if you set the minimum index to 2, then the first roll operation will leave its file uncompressed, and all subsequent ones will be compressed.</p>
<p>For example, if you have a numbered_file_roller and a gzip_file_compressor with a minimum index of 2, then you will see a sequence like the following: </p><div class="fragment"><div class="line">my.log </div>
<div class="line">my.log.1 </div>
<div class="line">my.log.2.gz </div>
<div class="line">my.log.3.gz </div>
</div><!-- fragment --> </div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a01ba6181581f0bb655b7151cc2502c6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="return__code_8h.html#a5d9d1912ba3cc603c5c40414b58ac643">chucho_rc</a> chucho_cmp_get_extension </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="file__compressor_8h.html#af4f87c5be0de33dbb069b15e96402111">chucho_file_compressor</a> *&#160;</td>
          <td class="paramname"><em>cmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>ext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the file name extension used by the given file compressor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cmp</td><td>the file compressor </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ext</td><td>the file name extension </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a value from <a class="el" href="return__code_8h.html">return_code.h</a> indicating success or failure </dd></dl>

</div>
</div>
<a class="anchor" id="ae68666b7be81de403d18170dd4dbbd50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="return__code_8h.html#a5d9d1912ba3cc603c5c40414b58ac643">chucho_rc</a> chucho_cmp_get_min_index </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="file__compressor_8h.html#af4f87c5be0de33dbb069b15e96402111">chucho_file_compressor</a> *&#160;</td>
          <td class="paramname"><em>cmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the minimum index of rolled files at which to start compressing them. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cmp</td><td>the file compressor </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">idx</td><td>the minimum index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a value from <a class="el" href="return__code_8h.html">return_code.h</a> indicating success or failure </dd></dl>

</div>
</div>
<a class="anchor" id="ac7f151fd46dc0cdc7d7fac99ba5a3638"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="return__code_8h.html#a5d9d1912ba3cc603c5c40414b58ac643">chucho_rc</a> chucho_release_file_compressor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="file__compressor_8h.html#af4f87c5be0de33dbb069b15e96402111">chucho_file_compressor</a> *&#160;</td>
          <td class="paramname"><em>cmp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release a file compressor. </p>
<dl class="section post"><dt>Postcondition</dt><dd>Ownership of the cmp paramter is transferred to the callee.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cmp</td><td>the file compressor </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a value from <a class="el" href="return__code_8h.html">return_code.h</a> indicating success or failure </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 31 2015 13:08:02 for Chucho by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
