<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Chucho: chucho::file_compressor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="itzcuintli_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Chucho
   &#160;<span id="projectnumber">1.5</span>
   </div>
   <div id="projectbrief">A C++11 logging framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacechucho.html">chucho</a></li><li class="navelem"><a class="el" href="classchucho_1_1file__compressor.html">file_compressor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classchucho_1_1file__compressor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">chucho::file_compressor Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group__compressors.html">Compressors</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>File compressors are able to compress files.  
 <a href="classchucho_1_1file__compressor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="file__compressor_8hpp_source.html">chucho/file_compressor.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for chucho::file_compressor:</div>
<div class="dyncontent">
<div class="center"><img src="classchucho_1_1file__compressor__inherit__graph.png" border="0" usemap="#chucho_1_1file__compressor_inherit__map" alt="Inheritance graph"/></div>
<map name="chucho_1_1file__compressor_inherit__map" id="chucho_1_1file__compressor_inherit__map">
<area shape="rect" id="node3" href="classchucho_1_1bzip2__file__compressor.html" title="Compress using the bzip2 format and a file name extension of .bz2. " alt="" coords="448,5,576,43"/><area shape="rect" id="node4" href="classchucho_1_1gzip__file__compressor.html" title="Compress using the bzip format and a file name extension of .gz. " alt="" coords="413,67,611,93"/><area shape="rect" id="node5" href="classchucho_1_1noop__file__compressor.html" title="Don&#39;t do anything. " alt="" coords="411,117,613,142"/><area shape="rect" id="node6" href="classchucho_1_1zip__file__compressor.html" title="Compress using the zip archive format and a file name extension of .zip. " alt="" coords="417,166,607,191"/><area shape="rect" id="node2" href="classchucho_1_1configurable.html" title="Indicates configurability of an object. " alt="" coords="5,93,150,118"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a375225c7242d53716c59b3f1920e5c78"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchucho_1_1file__compressor.html#a375225c7242d53716c59b3f1920e5c78">compress</a> (const std::string &amp;file_name)=0</td></tr>
<tr class="memdesc:a375225c7242d53716c59b3f1920e5c78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compress the named file, creating a new, compressed file with the file's same name and an extension corresponding to this compressor.  <a href="#a375225c7242d53716c59b3f1920e5c78">More...</a><br/></td></tr>
<tr class="separator:a375225c7242d53716c59b3f1920e5c78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bf8514dbf5940408ed268e72bd3e5e0"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchucho_1_1file__compressor.html#a1bf8514dbf5940408ed268e72bd3e5e0">get_extension</a> () const </td></tr>
<tr class="memdesc:a1bf8514dbf5940408ed268e72bd3e5e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the file name extension used by this compressor.  <a href="#a1bf8514dbf5940408ed268e72bd3e5e0">More...</a><br/></td></tr>
<tr class="separator:a1bf8514dbf5940408ed268e72bd3e5e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4fac5f60873a2a6754d4c608d7e6344"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchucho_1_1file__compressor.html#ab4fac5f60873a2a6754d4c608d7e6344">get_min_index</a> () const </td></tr>
<tr class="memdesc:ab4fac5f60873a2a6754d4c608d7e6344"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the minimum index at which to start compressing rolled files.  <a href="#ab4fac5f60873a2a6754d4c608d7e6344">More...</a><br/></td></tr>
<tr class="separator:ab4fac5f60873a2a6754d4c608d7e6344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Destructor</div></td></tr>
<tr class="memitem:a5808be7df0f87ae3dc539a8bb2b022e0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5808be7df0f87ae3dc539a8bb2b022e0"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchucho_1_1file__compressor.html#a5808be7df0f87ae3dc539a8bb2b022e0">~file_compressor</a> ()</td></tr>
<tr class="memdesc:a5808be7df0f87ae3dc539a8bb2b022e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruct the compressor. <br/></td></tr>
<tr class="separator:a5808be7df0f87ae3dc539a8bb2b022e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classchucho_1_1configurable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classchucho_1_1configurable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classchucho_1_1configurable.html">chucho::configurable</a></td></tr>
<tr class="memitem:a2fc827ec82376e64c985995f30d21b5c inherit pub_methods_classchucho_1_1configurable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2fc827ec82376e64c985995f30d21b5c"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchucho_1_1configurable.html#a2fc827ec82376e64c985995f30d21b5c">~configurable</a> ()</td></tr>
<tr class="memdesc:a2fc827ec82376e64c985995f30d21b5c inherit pub_methods_classchucho_1_1configurable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy this configurable. <br/></td></tr>
<tr class="separator:a2fc827ec82376e64c985995f30d21b5c inherit pub_methods_classchucho_1_1configurable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Constructor</div></td></tr>
<tr class="memitem:ad77de6bb328d5c21c91a0905fd75866a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchucho_1_1file__compressor.html#ad77de6bb328d5c21c91a0905fd75866a">file_compressor</a> (unsigned min_idx, const char *extension)</td></tr>
<tr class="memdesc:ad77de6bb328d5c21c91a0905fd75866a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct the compressor.  <a href="#ad77de6bb328d5c21c91a0905fd75866a">More...</a><br/></td></tr>
<tr class="separator:ad77de6bb328d5c21c91a0905fd75866a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>File compressors are able to compress files. </p>
<p>They take as input the name of a file to compress, and they create a file with the same name plus an extension specific to the compressor, for example ".gz" in the case of gzip compression. A compressor is optionally attached to a <a class="el" href="classchucho_1_1file__roller.html">file_roller</a>.</p>
<p>Each compressor has a minimum index at which it should start to compress files. Since each <a class="el" href="classchucho_1_1file__roller.html">file_roller</a> can have its own strategy for rolling, the compressor index is always counted sequentially from the most recent rolled file, which has an index of 1. So, if you set the minimum index to 2, then the first roll operation will leave its file uncompressed, and all subsequent ones will be compressed.</p>
<p>For example, if you have a <a class="el" href="classchucho_1_1numbered__file__roller.html">numbered_file_roller</a> and a <a class="el" href="classchucho_1_1gzip__file__compressor.html">gzip_file_compressor</a> with a minimum index of 2, then you will see a sequence like the following: </p>
<div class="fragment"><div class="line">my.log </div>
<div class="line">my.log.1 </div>
<div class="line">my.log.2.gz </div>
<div class="line">my.log.3.gz </div>
</div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad77de6bb328d5c21c91a0905fd75866a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">chucho::file_compressor::file_compressor </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>min_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extension</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct the compressor. </p>
<p>Create a compressor with the given minimum index and file name extension.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">min_idx</td><td>the minimum index at which to start compressing </td></tr>
    <tr><td class="paramname">extension</td><td>the file name extension for this compressor</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classchucho_1_1file__compressor.html#ab4fac5f60873a2a6754d4c608d7e6344" title="Return the minimum index at which to start compressing rolled files. ">get_min_index</a>, <a class="el" href="classchucho_1_1file__compressor.html#a1bf8514dbf5940408ed268e72bd3e5e0" title="Return the file name extension used by this compressor. ">get_extension</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a375225c7242d53716c59b3f1920e5c78"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void chucho::file_compressor::compress </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compress the named file, creating a new, compressed file with the file's same name and an extension corresponding to this compressor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_name</td><td>the name of the input file</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classchucho_1_1file__compressor.html#a1bf8514dbf5940408ed268e72bd3e5e0" title="Return the file name extension used by this compressor. ">get_extension</a> </dd></dl>

<p>Implemented in <a class="el" href="classchucho_1_1noop__file__compressor.html#ae3fdd02ddc1227c207bd8aa0a1f47929">chucho::noop_file_compressor</a>, <a class="el" href="classchucho_1_1bzip2__file__compressor.html#a27298c4890578b7db63e2ada45dffd74">chucho::bzip2_file_compressor</a>, <a class="el" href="classchucho_1_1gzip__file__compressor.html#a5e4b583fb81b9da08f365ac8e0797e9a">chucho::gzip_file_compressor</a>, and <a class="el" href="classchucho_1_1zip__file__compressor.html#a6feb60d6aa2b565fa8730e4a25905e6b">chucho::zip_file_compressor</a>.</p>

</div>
</div>
<a class="anchor" id="a1bf8514dbf5940408ed268e72bd3e5e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * chucho::file_compressor::get_extension </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the file name extension used by this compressor. </p>
<dl class="section return"><dt>Returns</dt><dd>const char* the extension </dd></dl>

</div>
</div>
<a class="anchor" id="ab4fac5f60873a2a6754d4c608d7e6344"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned chucho::file_compressor::get_min_index </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the minimum index at which to start compressing rolled files. </p>
<p>The index here may have no relation to an index that may be associated with the <a class="el" href="classchucho_1_1file__roller.html">file_roller</a>, since each roller can roll files however it wants.</p>
<p>The indexes in terms of the compressor count from most recent, with index 1, to leaat recent.</p>
<p>For example, if you have a <a class="el" href="classchucho_1_1numbered__file__roller.html">numbered_file_roller</a> and a <a class="el" href="classchucho_1_1gzip__file__compressor.html">gzip_file_compressor</a> with a minimum index of 2, then you will see a sequence like the following: </p>
<div class="fragment"><div class="line">my.log </div>
<div class="line">my.log.1 </div>
<div class="line">my.log.2.gz </div>
<div class="line">my.log.3.gz </div>
</div><!-- fragment --><dl class="section return"><dt>Returns</dt><dd>unsigned the minimum index </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="file__compressor_8hpp_source.html">file_compressor.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jun 28 2014 09:40:42 for Chucho by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
