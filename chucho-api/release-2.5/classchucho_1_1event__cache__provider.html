<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="itzcuintli.ico" type="image/x-icon"/>
<meta http-equiv="Content-Type" content="text/xhtml
charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Chucho: chucho::event_cache_provider Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px
">
  <td id="projectlogo"><img alt="Logo" src="itzcuintli_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em
">
   <div id="projectname">Chucho
   &#160
<span id="projectnumber">2.5</span>
   </div>
   <div id="projectbrief">A C++14 logging framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacechucho.html">chucho</a></li><li class="navelem"><a class="el" href="classchucho_1_1event__cache__provider.html">event_cache_provider</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classchucho_1_1event__cache__provider-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">chucho::event_cache_provider Class Reference<div class="ingroups"><a class="el" href="group__miscellaneous.html">Miscellaneous</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A holder of an event cache.  
 <a href="classchucho_1_1event__cache__provider.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="event__cache__provider_8hpp_source.html">chucho/event_cache_provider.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for chucho::event_cache_provider:</div>
<div class="dyncontent">
<div class="center"><img src="classchucho_1_1event__cache__provider__inherit__graph.png" border="0" usemap="#chucho_1_1event__cache__provider_inherit__map" alt="Inheritance graph"/></div>
<map name="chucho_1_1event__cache__provider_inherit__map" id="chucho_1_1event__cache__provider_inherit__map">
<area shape="rect" id="node2" href="classchucho_1_1async__writer.html" title="An asynchronous writer. " alt="" coords="5,95,152,121"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab78e3f427cc60dca3dfd2462491f2ff2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classchucho_1_1event__cache__stats.html">event_cache_stats</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchucho_1_1event__cache__provider.html#ab78e3f427cc60dca3dfd2462491f2ff2">get_cache_stats</a> ()</td></tr>
<tr class="memdesc:ab78e3f427cc60dca3dfd2462491f2ff2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the cache stats.  <a href="#ab78e3f427cc60dca3dfd2462491f2ff2">More...</a><br /></td></tr>
<tr class="separator:ab78e3f427cc60dca3dfd2462491f2ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16fe14fae3a84dee5fee1ba9a1b1e220"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchucho_1_1event__cache__provider.html#a16fe14fae3a84dee5fee1ba9a1b1e220">set_cache_progress_callback</a> (<a class="el" href="classchucho_1_1event__cache__stats.html#ae7f3dda5bf38c67751176e48e32bafec">event_cache_stats::progress_callback</a> cb)</td></tr>
<tr class="memdesc:a16fe14fae3a84dee5fee1ba9a1b1e220"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the progress callback.  <a href="#a16fe14fae3a84dee5fee1ba9a1b1e220">More...</a><br /></td></tr>
<tr class="separator:a16fe14fae3a84dee5fee1ba9a1b1e220"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Constructor and Destructor</div></td></tr>
<tr class="memitem:a0a3718782825e87f2a5c0a68b359a40d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchucho_1_1event__cache__provider.html#a0a3718782825e87f2a5c0a68b359a40d">event_cache_provider</a> (std::size_t chunk_size, std::size_t max_size)</td></tr>
<tr class="memdesc:a0a3718782825e87f2a5c0a68b359a40d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a provider.  <a href="#a0a3718782825e87f2a5c0a68b359a40d">More...</a><br /></td></tr>
<tr class="separator:a0a3718782825e87f2a5c0a68b359a40d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5907ff507321ad0d2391242499647533"><td class="memItemLeft" align="right" valign="top"><a id="a5907ff507321ad0d2391242499647533"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchucho_1_1event__cache__provider.html#a5907ff507321ad0d2391242499647533">~event_cache_provider</a> ()</td></tr>
<tr class="memdesc:a5907ff507321ad0d2391242499647533"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a provider. <br /></td></tr>
<tr class="separator:a5907ff507321ad0d2391242499647533"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a29735a8b9d4934b4606fc6078d87af53"><td class="memItemLeft" align="right" valign="top"><a id="a29735a8b9d4934b4606fc6078d87af53"></a>
std::unique_ptr&lt; event_cache &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchucho_1_1event__cache__provider.html#a29735a8b9d4934b4606fc6078d87af53">cache_</a></td></tr>
<tr class="memdesc:a29735a8b9d4934b4606fc6078d87af53"><td class="mdescLeft">&#160;</td><td class="mdescRight">The event cache. <br /></td></tr>
<tr class="separator:a29735a8b9d4934b4606fc6078d87af53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A holder of an event cache. </p>
<p>An event cache is a disk-backed queue of log events. The cache stores its data in chunks. One chunk is held in memory, and the other chunks are stored on disk. Once the cache reaches its maximum size, the oldest chunk is deleted.</p>
<p>Cache data can be monitored by polling with <a class="el" href="classchucho_1_1event__cache__provider.html#ab78e3f427cc60dca3dfd2462491f2ff2">get_cache_stats</a>, or via a callback function. The callback is invoked when the cache is 80%, 90% and 95% full. Additionally, it is called immediately after the cache has become full and the oldest chunk is deleted. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0a3718782825e87f2a5c0a68b359a40d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a3718782825e87f2a5c0a68b359a40d">&#9670;&nbsp;</a></span>event_cache_provider()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">chucho::event_cache_provider::event_cache_provider </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>chunk_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>max_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a provider. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chunk_size</td><td>the size of one chunk </td></tr>
    <tr><td class="paramname">max_size</td><td>the maximum size </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab78e3f427cc60dca3dfd2462491f2ff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab78e3f427cc60dca3dfd2462491f2ff2">&#9670;&nbsp;</a></span>get_cache_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classchucho_1_1event__cache__stats.html">event_cache_stats</a> chucho::event_cache_provider::get_cache_stats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the cache stats. </p>
<dl class="section return"><dt>Returns</dt><dd>the stats </dd></dl>

</div>
</div>
<a id="a16fe14fae3a84dee5fee1ba9a1b1e220"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16fe14fae3a84dee5fee1ba9a1b1e220">&#9670;&nbsp;</a></span>set_cache_progress_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void chucho::event_cache_provider::set_cache_progress_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classchucho_1_1event__cache__stats.html#ae7f3dda5bf38c67751176e48e32bafec">event_cache_stats::progress_callback</a>&#160;</td>
          <td class="paramname"><em>cb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the progress callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb</td><td>the callback </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="event__cache__provider_8hpp_source.html">event_cache_provider.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Feb 3 2019 11:18:10 for Chucho by &#160
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
<script async src="//radar.cedexis.com/1/23762/radar.js"></script>
</body>
</html>
